{"remainingRequest":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/src/components/Todos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/src/components/Todos.vue","mtime":1573144861579},{"path":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nightgust/Google Drive/МГТУ/skillfactory/html/module_C_4/c_web2/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vINC40LzQv9C+0YDRgtC40YDRg9C10Lwg0LHQuNCx0LvQuNC+0YLQtdC60YMg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSBodHRwINC30LDQv9GA0L7RgdCw0LzQuAppbXBvcnQgQ29uZmlybWF0aW9uIGZyb20gJy4vQ29uZmlybWF0aW9uLnZ1ZSc7CgpjbGFzcyBWYWxpZGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7CiAgY29uc3RydWN0b3IobWVzc2FnZSkgewogICAgc3VwZXIobWVzc2FnZSk7CiAgICB0aGlzLm5hbWUgPSAnVmFsaWRhdGlvbkVycm9yJzsKICB9Cn0KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUb2RvJywKICBkYXRhKCkgewogICAgLy8g0L3QsNGIINC60L7QvNC/0L7QvdC10L3RgiDQstC+0LfQstGA0LDRidCw0LXRgiDQsiDRiNCw0LHQu9C+0L0KICAgIHJldHVybiB7CiAgICAgIHRvZG9zOiBbXSwKICAgICAgbXljb3VudGVyOiB7CiAgICAgICAgZG9uZTogMCwKICAgICAgICB1bmRvbmU6IDAsCiAgICAgIH0sCiAgICAgIC8vINC+0L/RgNC10LTQtdC70Y/QtdC8INC+0LHRitC10LrRgiBhZGRUb2RvRm9ybSDRgyDQutC+0YLQvtGA0L7Qs9C+INGC0LUg0LbQtSDQv9C+0LvRjywg0YfRgtC+INC4INCyINC80L7QtNCw0LvRjNC90L7QvCDQvtC60L3QtQogICAgICBhZGRUb2RvRm9ybTogewogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAvLyDQmNC80LXQvdC90L4g0L7QsdGK0LXQutGCIGFkZFRvZG9Gb3JtINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQstC90YPRgtGA0Lgg0LzQvtC00LDQu9CwINC00LvRjyDQv9GA0LjQstGP0LfQutC4INC6INC80L7QtNC10LvQuCDRh9C10YDQtdC3CiAgICAgICAgLy8gdi1tb2RlbC4KICAgICAgICBpc19jb21wbGV0ZWQ6ICdmYWxzZScsCiAgICAgIH0sCiAgICAgIC8vINC00L7QsdCw0LLQuNC70Lgg0L3QvtCy0YvQuSDQvtCx0YrQtdC60YIg0LTQu9GPINGE0L7RgNC80Ysg0LjQt9C80LXQvdC10L3QuNGPINC30LDQtNCw0YfQuAogICAgICB1cGRhdGVUb2RvRm9ybTogewogICAgICAgIHVpZDogMCwKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgaXNfY29tcGxldGVkOiAnZmFsc2UnLAogICAgICAgIHV1aWQ6IDAsCiAgICAgIH0sCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBzaG93Q29uZmlybWF0aW9uOiBmYWxzZSwKICAgIH07CiAgfSwKICAvLyDQstGL0L3QtdGB0LvQuCDQu9C+0LPQuNC60YMg0L/QvtGB0LvQtSDRgXJlYXRlZCDQsiDQvNC10YLQvtC00Ysg0YfRgtC+0LHRiyDQvdC1INC30LDQs9GA0L7QvNC+0LzQttC00LDRgtGMCiAgbWV0aG9kczogewogICAgZ2V0VUlEKCkgewogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NvdW50ZXInKSA9PT0gbnVsbCkgewogICAgICAgIGNvbnN0IG5ld3VpZCA9IDA7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NvdW50ZXInLCBuZXd1aWQpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHVpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb3VudGVyJyk7CiAgICAgICAgY29uc3QgbmV3dWlkID0gdWlkICogMSArIDE7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NvdW50ZXInLCBuZXd1aWQpOwogICAgICB9CiAgICB9LAogICAgZ2V0VG9kb3MoKSB7CiAgICAgIGNvbnN0IHRhc2tzID0gW107CiAgICAgIGxldCBsaXN0VWlkID0gMDsKICAgICAgbGV0IGRvbmUgPSAwOwogICAgICBsZXQgdW5kb25lID0gMDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpOwogICAgICAgIGlmIChrZXkuaW5kZXhPZigndGFzaycpICE9PSAtMSkgewogICAgICAgICAgY29uc3Qgc2F2ZWR0YXNrID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTsKICAgICAgICAgIGlmIChzYXZlZHRhc2suaXNfY29tcGxldGVkID09PSAnZmFsc2UnKSB7CiAgICAgICAgICAgIHVuZG9uZSArPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZG9uZSArPSAxOwogICAgICAgICAgfQogICAgICAgICAgc2F2ZWR0YXNrLnVpZCA9IGxpc3RVaWQ7CiAgICAgICAgICBsaXN0VWlkICs9IDE7CiAgICAgICAgICB0YXNrcy5wdXNoKHNhdmVkdGFzayk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMudG9kb3MgPSB0YXNrczsKICAgICAgdGhpcy5teWNvdW50ZXIuZG9uZSA9IGRvbmU7CiAgICAgIHRoaXMubXljb3VudGVyLnVuZG9uZSA9IHVuZG9uZTsKICAgIH0sCiAgICBnZXRUYXNrU3RhdHVzKCkgewogICAgICBsZXQgZG9uZSA9IDA7CiAgICAgIGxldCB1bmRvbmUgPSAwOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7CiAgICAgICAgaWYgKGtleS5pbmRleE9mKCd0YXNrJykgIT09IC0xKSB7CiAgICAgICAgICBjb25zdCB0YXNrID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTsKICAgICAgICAgIGlmICh0YXNrLmlzX2NvbXBsZXRlZCA9PT0gJ2ZhbHNlJykgewogICAgICAgICAgICB1bmRvbmUgKz0gMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvbmUgKz0gMTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5teWNvdW50ZXIuYWxwaGEgPSBkb25lOwogICAgICB0aGlzLm15Y291bnRlci5iZXR0YSA9IHVuZG9uZTsKICAgIH0sCiAgICAvLyDRgdCx0YDQvtGBINC/0L7Qu9C10Lkg0YTQvtGA0LzRiyDQv9GA0LjQstC+0LTQuNC8INC+0LHRitC10LrRgiBhZGRUb2RvRm9ybSDQuiDQtdCz0L4g0LjQt9C90LDRh9Cw0LvRjNC90L7QvNGDINGB0L7RgdGC0L7Rj9C90LjRji4KICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5hZGRUb2RvRm9ybS5kZXNjcmlwdGlvbiA9ICcnOwogICAgICB0aGlzLmFkZFRvZG9Gb3JtLmlzX2NvbXBsZXRlZCA9ICdmYWxzZSc7CiAgICAgIHRoaXMuZ2V0VG9kb3MoKTsKICAgIH0sCiAgICByZXNldEZvcm1VcGRhdGUoKSB7CiAgICAgIHRoaXMudXBkYXRlVG9kb0Zvcm0uZGVzY3JpcHRpb24gPSAnJzsKICAgICAgdGhpcy51cGRhdGVUb2RvRm9ybS5pc19jb21wbGV0ZWQgPSAnZmFsc2UnOwogICAgICB0aGlzLmdldFRvZG9zKCk7CiAgICB9LAogICAgb25TdWJtaXQoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gINGB0YLQvtC/0LDQtdC8INC00LXQudGB0YLQsiDQv9C+INGD0LzQvtC70YcKICAgICAgdGhpcy4kcmVmcy5hZGRUb2RvTW9kYWwuaGlkZSgpOyAvLyDRgdC60YDRi9Cy0LDQtdC8INGE0L7RgNC80YMhINC40YHQv9C+0LvRjNC30L7QstGC0Ywg0LTQu9GPINGB0LrRgNGL0YLQuNGPINGD0LLQtdC00L7QvNC7CiAgICAgIC8vINGE0L7RgNC80LjRgNGD0LXQvCDQtNCw0L3QvdC90YvQtSDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQvdCwINGB0LXRgNCy0LXRgAogICAgICBpZiAodGhpcy5hZGRUb2RvRm9ybS5pc19jb21wbGV0ZWQgIT09ICdmYWxzZScpIHsKICAgICAgICB0aGlzLmFkZFRvZG9Gb3JtLmlzX2NvbXBsZXRlZCA9ICd0cnVlJzsKICAgICAgfQogICAgICB0aGlzLmdldFVJRCgpOwogICAgICBjb25zdCBteWtleSA9ICd0YXNrJzsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBzYXZlZERhdGEgPSB7CiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5hZGRUb2RvRm9ybS5kZXNjcmlwdGlvbiwKICAgICAgICAgIGlzX2NvbXBsZXRlZDogdGhpcy5hZGRUb2RvRm9ybS5pc19jb21wbGV0ZWQsCiAgICAgICAgICB1aWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb3VudGVyJyksCiAgICAgICAgICB1dWlkOiBteWtleSArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjb3VudGVyJyksCiAgICAgICAgfTsKICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoc2F2ZWREYXRhKTsKICAgICAgICBzYXZlZERhdGEudXVpZCA9IG15a2V5ICsgc2F2ZWREYXRhLnVpZDsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzYXZlZERhdGEudXVpZCwganNvbik7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ9CX0LDQtNCw0YfQsCDQtNC+0LHQsNCy0LvQtdC90LAg0LIg0YHQv9C40YHQvtC6JzsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIHRoaXMubWVzc2FnZSA9ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwLiDQl9Cw0LTQsNGH0LAg0L3QtSDQtNC+0LHQsNCy0LvQtdC90LAg0LIg0YHQv9C40YHQvtC6JzsKICAgICAgfQogICAgICAvLyDQv9GA0LjQstC+0LTQuNC8INC30L3QsNGH0LXQvdC40Y8g0L/QvtC70LXQuSDRhNC+0YDQvNGLINCyINC90LDRh9Cw0LvRjNC90L7QtSDRgdC+0YHRgtC+0Y/QvdC40LUKICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgdGhpcy5nZXRUb2RvcygpOwogICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSBmYWxzZTsKICAgICAgfSwgNTAwMCk7CiAgICB9LAogICAgb25SZXNldChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDQv9C10YDQstGL0Lwg0LTQtdC70L7QvCDQvtGC0LzQtdC90Y/QtdGCINC00LXQudGB0YLQstC40LUg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4g0LTQu9GPINGN0YLQvtCz0L4g0L7QsdGK0LXQutGC0LAsCiAgICAgIC8vINC/0L7RgtC+0LzRgyDRh9GC0L4g0LzRiyDRgdC90LDRh9Cw0LvQsCDQtNC+0LvQttC90Ysg0YHQv9GA0Y/RgtCw0YLRjCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0Lgg0L/QvtGC0L7QvCDQtdGJ0ZEg0YHQsdGA0L7RgdC40YLRjCDRhNC+0YDQvNGDLgogICAgICB0aGlzLiRyZWZzLmFkZFRvZG9Nb2RhbC5oaWRlKCk7CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICB9LAogICAgLy8g0L7QsdC90L7QstC70Y/QtdC8INC+0LHRitC10LrRgiDRgSDQvtCx0L3QvtCy0LvQtdC9INC00LDQvdC90YvQvNC80Ysg0LIg0L3QvtCy0L7QvCDQvNC10YLQvtC00LUgdXBkYXRlVG9kbwogICAgdXBkYXRlVG9kbyh0b2RvKSB7CiAgICAgIHRoaXMudXBkYXRlVG9kb0Zvcm0gPSB0b2RvOwogICAgfSwKICAgIG9uVXBkYXRlU3VibWl0KGV2ZW50KSB7CiAgICAgIC8vINC00LXQu9Cw0LXQvCDRgtC+0LbQtSDRgdCw0LzQvtC1INGH0YLQviDRgSDRgdCw0LHQvNC40YIg0L/RgNC+0YHRgtC+INC00YDRg9Cz0LjQvCDQvNC10YLQvtC00L7QvAogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLnVwZGF0ZVRvZG9Nb2RhbC5oaWRlKCk7CiAgICAgIGlmICh0aGlzLmFkZFRvZG9Gb3JtLmlzX2NvbXBsZXRlZCAhPT0gJ2ZhbHNlJykgewogICAgICAgIHRoaXMuYWRkVG9kb0Zvcm0uaXNfY29tcGxldGVkID0gJ3RydWUnOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMudXBkYXRlVG9kb0Zvcm0udXVpZCkgPT09IG51bGwpIHsKICAgICAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoKTsKICAgICAgICB9CiAgICAgICAgY29uc3Qgc2F2ZWREYXRhID0gewogICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudXBkYXRlVG9kb0Zvcm0uZGVzY3JpcHRpb24sCiAgICAgICAgICBpc19jb21wbGV0ZWQ6IHRoaXMudXBkYXRlVG9kb0Zvcm0uaXNfY29tcGxldGVkLAogICAgICAgICAgdWlkOiB0aGlzLnVwZGF0ZVRvZG9Gb3JtLnVpZCwKICAgICAgICAgIHV1aWQ6IHRoaXMudXBkYXRlVG9kb0Zvcm0udXVpZCwKICAgICAgICB9OwogICAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzYXZlZERhdGEpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNhdmVkRGF0YS51dWlkLCBqc29uKTsKICAgICAgICB0aGlzLm1lc3NhZ2UgPSAn0JfQsNC00LDRh9CwINC+0LHQvdC+0LLQu9C10L3QsCc7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZS5uYW1lKTsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwLiDQl9Cw0LTQsNGH0LAg0YEg0YLQsNC60LjQvCDQvdC+0LzQtdGA0L7QvCDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQstC+INCy0YDQtdC80Y8g0L7QsdC90L7QstC70LXQvdC40Y8g0LfQsNC00LDRh9C4JzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5yZXNldEZvcm1VcGRhdGUoKTsKICAgICAgdGhpcy5nZXRUb2RvcygpOwogICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSBmYWxzZTsKICAgICAgfSwgNTAwMCk7CiAgICB9LAogICAgb25VcGRhdGVSZXNldChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLnVwZGF0ZVRvZG9Nb2RhbC5oaWRlKCk7CiAgICAgIHRoaXMucmVzZXRGb3JtVXBkYXRlKCk7CiAgICB9LAogICAgZGVsZXRlVG9kbyh0b2RvKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgdG9EZWxldGVVdWlkID0gdG9kby51dWlkOwogICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0b0RlbGV0ZVV1aWQpID09PSBudWxsKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKCk7CiAgICAgICAgfQogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRvRGVsZXRlVXVpZCk7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ9CX0LDQtNCw0YfQsCDRg9C00LDQu9C10L3QsCDQuNC3INGB0L/QuNGB0LrQsCc7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZS5uYW1lKTsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwLiDQl9Cw0LTQsNGH0LAg0YEg0YLQsNC60LjQvCDQvdC+0LzQtdGA0L7QvCDQvtGC0YHRg9GC0YHRgtCy0YPQtdGCfSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgdGhpcy5tZXNzYWdlID0gJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAg0LLQviDQstGA0LXQvNGPINGD0LTQsNC70LXQvdC40Y8g0LfQsNC00LDRh9C4JzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5nZXRUb2RvcygpOwogICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnNob3dDb25maXJtYXRpb24gPSBmYWxzZTsKICAgICAgfSwgNTAwMCk7CiAgICB9LAogIH0sCiAgLy8g0L7Qv9GA0LXQtNC10LvRj9C10Lwg0L/QvtCy0LXQtNC10L3QuNC1INC60L7QvNC/0L7QvdC10L3RgtCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INGBINC/0L7QvNC+0YnRjNGOIGNyZWF0ZWQKICBjb21wb25lbnRzOiB7CiAgICBjb25maXJtYXRpb246IENvbmZpcm1hdGlvbiwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFRvZG9zKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Todos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Todos.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"col-sm-10\">\n      <h1>Задачи</h1>\n      <confirmation :message=\"message\"\n                    v-if='showConfirmation'>\n      </confirmation>\n      <button type=\"button\"\n              id=\"task-add\"\n              class=\"btn btn-success btn-sm align-left d-block\"\n              v-b-modal.todo-modal>\n        Добавить задачу\n      </button>\n\n      <table class=\"table table-dark table-stripped table-hover\">\n\n        <thead class=\"thead-light\">\n        <tr>\n          <th>Uid</th>\n          <th>Описание</th>\n          <th>Выполнено? (Да:{{ mycounter.done }}/Нет:{{ mycounter.undone }})</th>\n          <th></th>\n        </tr>\n        </thead>\n\n        <tbody>\n        <tr v-for=\"(todo, index) in todos\" :key=\"index\">\n          <td class=\"todo-uid\">{{ todo.uid }}</td>\n          <td>{{ todo.description }}</td>\n          <td>\n            <span v-if='todo.is_completed === \"false\"'>Не выполнено</span>\n            <span v-else>Выполнено</span>\n          </td>\n          <td>\n            <div class=\"btn-group\" role=\"group\">\n              <button type=\"button\"\n                      class=\"btn btn-secondary btn-sm\"\n                      v-b-modal.todo-update-modal\n                      @click=\"updateTodo(todo)\">\n                Обновить\n              </button>\n              &nbsp;\n              <button type=\"button\"\n                      class=\"btn btn-danger btn-sm\"\n                      @click=\"deleteTodo(todo)\">\n                X\n              </button>\n            </div>\n          </td>\n        </tr>\n        </tbody>\n\n      </table>\n\n      <b-modal ref=\"addTodoModal\"\n               id=\"todo-modal\"\n               title=\"Добавить задачу\"\n               hide-footer> <!-- Теперь у нас должен наконец открываться сам модал. Обратите -->\n                <!-- внимание, что у нас в самом определении соответствующего тэга b-modal -->\n                <!-- присутствует hide-footer. Это сделано, потому что мы дополнительно -->\n                <!-- доопределяем свои кнопки. -->\n        <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\n          <b-form-group id=\"form-description-group\"\n                        label=\"Описание:\"\n                        label-for=\"form-description-input\">\n            <b-form-input id=\"form-description-input\"\n                          type=\"text\"\n                          v-model=\"addTodoForm.description\"\n                          required\n                          placeholder=\"Завести задачу\">\n            </b-form-input>\n          </b-form-group>\n          <b-form-group id=\"form-complete-group\">\n            <b-form-checkbox-group>\n              <b-form-checkbox\n                id=\"form-checks\"\n                v-model=\"addTodoForm.is_completed\"\n                value='true'\n                unchecked-value='false'>\n                Задача выполнена?\n              </b-form-checkbox>\n            </b-form-checkbox-group>\n          </b-form-group>\n          <b-button type=\"submit\" variant=\"primary\">Добавить</b-button>\n          <b-button type=\"reset\" variant=\"danger\">Сброс</b-button>\n        </b-form>\n      </b-modal>\n\n      <b-modal ref=\"updateTodoModal\"\n               id=\"todo-update-modal\"\n               title=\"Update\"\n               hide-footer>\n        <b-form @submit=\"onUpdateSubmit\" @reset=\"onUpdateReset\" class=\"w-100\">\n          <b-form-group id=\"form-update-description-group\"\n                        label=\"Описание:\"\n                        label-for=\"form-update-description-input\">\n            <b-form-input id=\"form-update-description-input\"\n                          type=\"text\"\n                          v-model=\"updateTodoForm.description\"\n                          required>\n            </b-form-input>\n          </b-form-group>\n          <b-form-group id=\"form-update-complete-group\">\n            <b-form-checkbox-group v-model=\"updateTodoForm.is_completed\" id=\"form-update-checks\">\n              <b-form-checkbox\n                value='true'\n                unchecked-value='false'>\n                Задача выполнена?\n              </b-form-checkbox>\n            </b-form-checkbox-group>\n          </b-form-group>\n          <b-button-group>\n            <b-button type=\"submit\" variant=\"primary\">Обновить</b-button>\n            <b-button type=\"reset\" variant=\"danger\">Сброс</b-button>\n          </b-button-group>\n        </b-form>\n      </b-modal>\n    </div>\n  </div>\n</template>\n\n<script>\n// импортируем библиотеку для работы с http запросами\nimport Confirmation from './Confirmation.vue';\n\nclass ValidationError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'ValidationError';\n  }\n}\nexport default {\n  name: 'Todo',\n  data() {\n    // наш компонент возвращает в шаблон\n    return {\n      todos: [],\n      mycounter: {\n        done: 0,\n        undone: 0,\n      },\n      // определяем объект addTodoForm у которого те же поля, что и в модальном окне\n      addTodoForm: {\n        description: '',\n        // Именно объект addTodoForm используется внутри модала для привязки к модели через\n        // v-model.\n        is_completed: 'false',\n      },\n      // добавили новый объект для формы изменения задачи\n      updateTodoForm: {\n        uid: 0,\n        description: '',\n        is_completed: 'false',\n        uuid: 0,\n      },\n      message: '',\n      showConfirmation: false,\n    };\n  },\n  // вынесли логику после сreated в методы чтобы не загромомждать\n  methods: {\n    getUID() {\n      if (localStorage.getItem('counter') === null) {\n        const newuid = 0;\n        localStorage.setItem('counter', newuid);\n      } else {\n        const uid = localStorage.getItem('counter');\n        const newuid = uid * 1 + 1;\n        localStorage.setItem('counter', newuid);\n      }\n    },\n    getTodos() {\n      const tasks = [];\n      let listUid = 0;\n      let done = 0;\n      let undone = 0;\n      for (let i = 0; i < localStorage.length; i += 1) {\n        const key = localStorage.key(i);\n        if (key.indexOf('task') !== -1) {\n          const savedtask = JSON.parse(localStorage.getItem(key));\n          if (savedtask.is_completed === 'false') {\n            undone += 1;\n          } else {\n            done += 1;\n          }\n          savedtask.uid = listUid;\n          listUid += 1;\n          tasks.push(savedtask);\n        }\n      }\n      this.todos = tasks;\n      this.mycounter.done = done;\n      this.mycounter.undone = undone;\n    },\n    getTaskStatus() {\n      let done = 0;\n      let undone = 0;\n      for (let i = 0; i < localStorage.length; i += 1) {\n        const key = localStorage.key(i);\n        if (key.indexOf('task') !== -1) {\n          const task = JSON.parse(localStorage.getItem(key));\n          if (task.is_completed === 'false') {\n            undone += 1;\n          } else {\n            done += 1;\n          }\n        }\n      }\n      this.mycounter.alpha = done;\n      this.mycounter.betta = undone;\n    },\n    // сброс полей формы приводим объект addTodoForm к его изначальному состоянию.\n    resetForm() {\n      this.addTodoForm.description = '';\n      this.addTodoForm.is_completed = 'false';\n      this.getTodos();\n    },\n    resetFormUpdate() {\n      this.updateTodoForm.description = '';\n      this.updateTodoForm.is_completed = 'false';\n      this.getTodos();\n    },\n    onSubmit(event) {\n      event.preventDefault(); //  стопаем действ по умолч\n      this.$refs.addTodoModal.hide(); // скрываем форму! использовть для скрытия уведомл\n      // формируем даннные для отправки на сервер\n      if (this.addTodoForm.is_completed !== 'false') {\n        this.addTodoForm.is_completed = 'true';\n      }\n      this.getUID();\n      const mykey = 'task';\n      try {\n        const savedData = {\n          description: this.addTodoForm.description,\n          is_completed: this.addTodoForm.is_completed,\n          uid: localStorage.getItem('counter'),\n          uuid: mykey + localStorage.getItem('counter'),\n        };\n        const json = JSON.stringify(savedData);\n        savedData.uuid = mykey + savedData.uid;\n        localStorage.setItem(savedData.uuid, json);\n        this.message = 'Задача добавлена в список';\n      } catch (e) {\n        console.log(e);\n        this.message = 'Произошла ошибка. Задача не добавлена в список';\n      }\n      // приводим значения полей формы в начальное состояние\n      this.resetForm();\n      this.getTodos();\n      this.showConfirmation = true;\n      setTimeout(() => {\n        this.showConfirmation = false;\n      }, 5000);\n    },\n    onReset(event) {\n      event.preventDefault(); // первым делом отменяет действие по умолчанию для этого объекта,\n      // потому что мы сначала должны спрятать модальное окно и потом ещё сбросить форму.\n      this.$refs.addTodoModal.hide();\n      this.resetForm();\n    },\n    // обновляем объект с обновлен данныммы в новом методе updateTodo\n    updateTodo(todo) {\n      this.updateTodoForm = todo;\n    },\n    onUpdateSubmit(event) {\n      // делаем тоже самое что с сабмит просто другим методом\n      event.preventDefault();\n      this.$refs.updateTodoModal.hide();\n      if (this.addTodoForm.is_completed !== 'false') {\n        this.addTodoForm.is_completed = 'true';\n      }\n      try {\n        if (localStorage.getItem(this.updateTodoForm.uuid) === null) {\n          throw new ValidationError();\n        }\n        const savedData = {\n          description: this.updateTodoForm.description,\n          is_completed: this.updateTodoForm.is_completed,\n          uid: this.updateTodoForm.uid,\n          uuid: this.updateTodoForm.uuid,\n        };\n        const json = JSON.stringify(savedData);\n        localStorage.setItem(savedData.uuid, json);\n        this.message = 'Задача обновлена';\n      } catch (e) {\n        if (e instanceof ValidationError) {\n          console.log(e.name);\n          this.message = 'Произошла ошибка. Задача с таким номером отсутствует';\n        } else {\n          console.log(e);\n          this.message = 'Произошла ошибка во время обновления задачи';\n        }\n      }\n      this.resetFormUpdate();\n      this.getTodos();\n      this.showConfirmation = true;\n      setTimeout(() => {\n        this.showConfirmation = false;\n      }, 5000);\n    },\n    onUpdateReset(event) {\n      event.preventDefault();\n      this.$refs.updateTodoModal.hide();\n      this.resetFormUpdate();\n    },\n    deleteTodo(todo) {\n      try {\n        const toDeleteUuid = todo.uuid;\n        if (localStorage.getItem(toDeleteUuid) === null) {\n          throw new ValidationError();\n        }\n        localStorage.removeItem(toDeleteUuid);\n        this.message = 'Задача удалена из списка';\n      } catch (e) {\n        if (e instanceof ValidationError) {\n          console.log(e.name);\n          this.message = 'Произошла ошибка. Задача с таким номером отсутствует}';\n        } else {\n          console.log(e);\n          this.message = 'Произошла ошибка во время удаления задачи';\n        }\n      }\n      this.getTodos();\n      this.showConfirmation = true;\n      setTimeout(() => {\n        this.showConfirmation = false;\n      }, 5000);\n    },\n  },\n  // определяем поведение компонента при загрузке с помощью created\n  components: {\n    confirmation: Confirmation,\n  },\n  created() {\n    this.getTodos();\n  },\n};\n</script>\n\n<style>\nbutton#task-add {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\nh1, td {\n  text-align: left;\n}\n.todo-uid {\n  text-align: right;\n}\n\n</style>\n"]}]}